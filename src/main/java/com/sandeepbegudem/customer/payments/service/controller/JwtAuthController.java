package com.sandeepbegudem.customer.payments.service.controller;import com.sandeepbegudem.customer.payments.service.dto.JwtRequest;import com.sandeepbegudem.customer.payments.service.service.JwtService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.HttpStatus;import org.springframework.security.authentication.AuthenticationManager;import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;import org.springframework.security.core.Authentication;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.web.bind.annotation.*;@RestController@RequestMapping("/jwt")public class JwtAuthController {    private final JwtService jwtService;    private final AuthenticationManager authenticationManager;    @Autowired    public JwtAuthController(JwtService jwtService, AuthenticationManager authenticationManager) {        this.jwtService = jwtService;        this.authenticationManager = authenticationManager;    }    @ResponseStatus(HttpStatus.OK)    @PostMapping("/authenticate")    public String authenticateAndGetToken(@RequestBody JwtRequest authRequest) {        Authentication authentication =                authenticationManager.authenticate(                        new UsernamePasswordAuthenticationToken(                                authRequest.getUsername(),                                authRequest.getPassword()));        if (authentication.isAuthenticated()) {            return jwtService.generateToken(authRequest);        } else {            throw new UsernameNotFoundException("invalid user request!");        }    }}